<!DOCTYPE html>
<html>
  <head>
    <script src="lib/require.js" data-main="src/main.js"></script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>

    <h1>Freedom from the monopoly called the web!</h1>
    <p>
      This is the <a target="_blank" href="https://github.com/nilclass/remotesocket-client">remotesocket</a>. It uses a websocket connection, to tunnel TCP connections into the browser.
    </p>
    <p>Currently only outgoing TCP connections work (optionally using a SSL connection between the proxy server and the endpoint).</p>

    <p>Go ahead and try it out:</p>

    <nav id="nav">
      <strong>Clients:</strong>
      <a href="#generic">Generic TCP</a>
      |
      <a href="#imap">IMAP</a>
    </nav>

    <div>
      <label>Proxy address:<input id="proxy-addr" type="text" value="ws://localhost:8080"></label>
      <em>(you need to run <a target="_blank" href="https://github.com/nilclass/remotesocket-node">remotesocket-node</a> here)</em>
    </div>

    <div id="action-imap" class="template">
      <h1>IMAP</h1>
      <form id="imap-form">
        <div>
          <strong>Connection:</strong>
          <input name="host" type="text" placeholder="Host" value="imap.gmail.com">
          <input name="port" type="number" placeholder="Port" value="993">
        </div>
        <div>
          <strong>Credentials:</strong>
          <input name="username" type="string" placeholder="User">
          <input name="password" type="password" placeholder="Password">
        </div>
        <div>
          <strong>Options:</strong>
          <label>
            <input name="ssl" type="checkbox" checked="checked">
            Use SSL
          </label>
          <div>
            <strong>Actions:</strong>
            <input name="connect" type="button" value="Connect">
            <input name="login" type="button" value="Login">
            <input name="logout" type="button" value="Logout">
            <input name="select" type="button" value="Select INBOX & fetch headlines">
          </div>
        </div>
      </form>
      
      <strong>State: </strong><span id="imap-state"></span>

      <div>
        <h3>Headlines:</h3>
        <ul id="imap-headlines"></ul>
      </div>
    </div>

    <div id="action-generic" class="template">
      <h1>Generic</h1>
      <form id="connect-form">
        <input name="host" type="text" placeholder="Host" value="unhosted.org">
        <input name="port" type="number" placeholder="Port" value="80">
        <input name="connect" type="submit" value="Connect">
        <input name="disconnect" type="button" value="Disconect" disabled="disabled">
      </form>

      <form id="send-form">
        <textarea name="data" placeholder="Data"></textarea>
        <input type="submit" value="Send">
      </form>

      <form id="helper-runner-form">
        <label>Helper:<select name="helper"></select></label>
        <input type="submit" value="Run">
      </form>

      <button id="clear-streams">Clear streams</button>
      <div id="log-streams">
        <div id="log-stream-client" class="log"></div>
        <div id="log-stream-server" class="log"></div>
      </div>
    </div>
  </body>
</html>
